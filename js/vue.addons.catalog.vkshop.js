window.$app.defineComponent("addons.catalog.vkshop","vue-addons-catalog-vkshop-options",{props:["values","variants","addon_id","isInstalling","currentTab","isStep"],mixins:[FormModel],data:function(){return{}},created:function(){this.$io.on("events:addons.vkshop:connected",this.connected)},destroyed:function(){this.$io.off("events:addons.vkshop:connected",this.connected)},watch:{values:function(){}},methods:{connected:function(e){this.variants.groups=e.groups,this.variants.categories=e.categories,this.values.options.access_token=e.access_token,this.$parent.install()}},template:'<section class="modal-card-body modal-card-body-blocks"> <section class="content" v-if="currentTab == \'description\'"> <slot name="allow"></slot> <p>Магазин ВКонтакте – Откройте новый канал продаж за несколько минут.</p> Выгрузка товаров в ВКонтакте позволяет создать дополнительную витрину ваших товаров в сообществе ВК что может привлечь дополнительный трафик к вашему основному магазину в Таплинке. <p></p> </section> <section v-if="currentTab == \'options\'"> <div class="row"> <div class="col-xs-12 col-sm-6 has-xs-mb-2"> <b-field label="Сообщество" :type="{\'is-danger\': errors.group_id}" :message=\'errors.group_id\' grouped> <b-select v-model="values.options.group_id" expanded :disabled="values.is_installed"> <option :value=\'null\'>-- Сообщество не выбрано --</option> <option v-for="v in variants.groups" :value="v.id"> {{v.name}} </option> </b-select> <p class="control" v-if="values.options.group_id"> <a :href="\'https://vk.com/club\'+values.options.group_id" class="button is-light" target="_blank"><i class="fas fa-external-link"></i></a> </p> </b-field> </div> <div class="col-xs-12 col-sm-6"> <b-field label="Категория для выгрузки" :type="{\'is-danger\': errors.category_id}" :message=\'errors.category_id\'> <b-select v-model="values.options.category_id" expanded :disabled="values.is_installed"> <option :value=\'null\'>-- Сообщество не выбрано --</option> <option v-for="v in variants.categories" :value="v.id"> {{v.name}} </option> </b-select> </b-field> </div> </div> <hr> <div v-if="values.tms_updated"><b>Последняя выгрузка:</b> {{values.tms_updated|datetime}}</div> </section> </section>'}),window.$app.defineModule("addons.catalog.vkshop",[]);
