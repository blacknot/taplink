window.$app.defineComponent("addons.catalog.mindbox","vue-addons-catalog-mindbox-entry",{props:["addons","addon","options","variants"],data:function(){return{types:{created:this.$gettext("Новая заявка"),paid:this.$gettext("Успешная оплата")}}},mixins:[FormModel],methods:{addCultomField:function(s){s.customfields.push({k:"",v:""})},removeCustomField:function(s,i){s.customfields.splice(i,1)},addSubscription:function(s){s.subscriptions.push({brand:"",point:"",topic:""})},removeCustomSubscription:function(s,i){s.subscriptions.splice(i,1)}},template:'<div> <div v-for="(o, key) in options"> <mx-toggle :title="types[key]" v-model="o.is_active"></mx-toggle> <div v-if="o.is_active" class="has-mb-3 has-mt-1"> <div class="has-mb-2"> <b-input v-model="o.operation" :placeholder="\'Операция\'|gettext" expanded></b-input> </div> <div> <label class="label has-mt-2" v-if="o.subscriptions.length">Подписки</label> <div v-for="(f, i) in o.subscriptions" class="row row-small has-mb-2"> <div class="col-xs-4"><input type="text" class="input" v-model="f.brand" placeholder="brand"></div> <div class="col-xs"><input type="text" class="input" v-model="f.point" placeholder="point"></div> <div class="col-xs"><input type="text" class="input" v-model="f.topic" placeholder="topic"></div> <div class="col-xs col-shrink"><button type="button" class="button is-danger" @click="removeCustomSubscription(o, i)"><i class="fa fa-trash-alt"></i></button></div> </div> </div> <div><a href=\'#\' @click="addSubscription(o)">Добавить подписку</a></div> <div v-if="o.customfields.length"> <label class="label has-mt-2">Дополнительные поля</label> <div v-for="(f, i) in o.customfields" class="row row-small has-mb-2"> <div class="col-xs-4"><input type="text" class="input" v-model="f.k" placeholder="Ключ"></div> <div class="col-xs"><input type="text" class="input" v-model="f.v" placeholder="Значение"></div> <div class="col-xs col-shrink"><button type="button" class="button is-danger" @click="removeCustomField(o, i)"><i class="fa fa-trash-alt"></i></button></div> </div> </div> <div><a href=\'#\' @click="addCultomField(o)">Добавить значение</a></div> </div> </div> </div>'}),window.$app.defineComponent("addons.catalog.mindbox","vue-addons-catalog-mindbox-options",{props:["values","variants","addon_id","isInstalling","currentTab"],mixins:[FormModel],template:'<section class="modal-card-body modal-card-body-blocks"> <section class="content" v-if="currentTab == \'description\'"> <slot name="allow"></slot> <div class="field">Mindbox — единая платформа автоматизации маркетинга.<br><br> Платформа собирает данные о клиентах: поведение, личные данные, покупки, просмотры, клики, звонки из интернет-магазина, с касс, мобильного приложения или рассылок. На основе этих данных маркетолог персонализирует работу с каждым покупателем: подсказывает подходящие товары на кассе, сайте или в приложении, запускает целевые точечные акции и рассылки, перестает заваливать клиентов спамом и скидками.<br><br> Результат — рост среднего чека, частоты покупок и конверсии, снижение оттока.</div> <a href=\'https://mindbox.ru/\' target="_blank">Открыть веб-сайт</a> </section> <section class="content" v-if="currentTab == \'options\'"> <div class="row"> <div class="col-xs-12 col-sm-6"> <b-field label="Точка интеграции (endpointId)" :message="errors.endpoint" :class="{\'has-error\': errors.endpoint}"> <input type="text" class="input" v-model="values.options.endpoint"> </b-field> <b-field label="Секретный ключ (secretKey)" :message="errors.secret_key" :class="{\'has-error\': errors.secret_key}"> <input type="text" class="input" v-model="values.options.secret_key"> </b-field> </div> </div> </section> </section>'}),window.$app.defineModule("addons.catalog.mindbox",[]);
