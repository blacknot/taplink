var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports.QRCodeStyling=e():t.QRCodeStyling=e()}(self,function(){return r={192:function(t,e){var r,n,o=function(){function n(t,e){function a(t,e){h=function(t){for(var e=new Array(t),r=0;r<t;r+=1){e[r]=new Array(t);for(var n=0;n<t;n+=1)e[r][n]=null}return e}(d=4*s+17),r(0,0),r(d-7,0),r(0,d-7),i(),o(),p(t,e),7<=s&&l(t),null==n&&(n=v(s,u,c)),g(n,e)}var s=t,u=w[e],h=null,d=0,n=null,c=[],f={},r=function(t,e){for(var r=-1;r<=7;r+=1)if(!(t+r<=-1||d<=t+r))for(var n=-1;n<=7;n+=1)e+n<=-1||d<=e+n||(h[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},o=function(){for(var t=8;t<d-8;t+=1)null==h[t][6]&&(h[t][6]=t%2==0);for(var e=8;e<d-8;e+=1)null==h[6][e]&&(h[6][e]=e%2==0)},i=function(){for(var t=_.getPatternPosition(s),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var n=t[e],o=t[r];if(null==h[n][o])for(var i=-2;i<=2;i+=1)for(var a=-2;a<=2;a+=1)h[n+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},l=function(t){for(var e=_.getBCHTypeNumber(s),r=0;r<18;r+=1){var n=!t&&1==(e>>r&1);h[Math.floor(r/3)][r%3+d-8-3]=n}for(r=0;r<18;r+=1)n=!t&&1==(e>>r&1),h[r%3+d-8-3][Math.floor(r/3)]=n},p=function(t,e){for(var r=u<<3|e,n=_.getBCHTypeInfo(r),o=0;o<15;o+=1){var i=!t&&1==(n>>o&1);o<6?h[o][8]=i:o<8?h[o+1][8]=i:h[d-15+o][8]=i}for(o=0;o<15;o+=1)i=!t&&1==(n>>o&1),o<8?h[8][d-o-1]=i:o<9?h[8][15-o-1+1]=i:h[8][15-o-1]=i;h[d-8][8]=!t},g=function(t,e){for(var r=-1,n=d-1,o=7,i=0,a=_.getMaskFunction(e),s=d-1;0<s;s-=2)for(6==s&&--s;;){for(var u,c=0;c<2;c+=1){null==h[n][s-c]&&(u=!1,i<t.length&&(u=1==(t[i]>>>o&1)),a(n,s-c)&&(u=!u),h[n][s-c]=u,-1==--o&&(i+=1,o=7))}if((n+=r)<0||d<=n){n-=r,r=-r;break}}},v=function(t,e,r){for(var n=b.getRSBlocks(t,e),o=x(),i=0;i<r.length;i+=1){var a=r[i];o.put(a.getMode(),4),o.put(a.getLength(),_.getLengthInBits(a.getMode(),t)),a.write(o)}for(var s=0,i=0;i<n.length;i+=1)s+=n[i].dataCount;if(o.getLengthInBits()>8*s)throw"code length overflow. ("+o.getLengthInBits()+">"+8*s+")";for(o.getLengthInBits()+4<=8*s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*s||(o.put(236,8),o.getLengthInBits()>=8*s));)o.put(17,8);return function(t,e){for(var r=0,n=0,o=0,i=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s+=1){var u=e[s].dataCount,c=e[s].totalCount-u,n=Math.max(n,u),o=Math.max(o,c);i[s]=new Array(u);for(var h=0;h<i[s].length;h+=1)i[s][h]=255&t.getBuffer()[h+r];r+=u;var d=_.getErrorCorrectPolynomial(c),l=m(i[s],d.getLength()-1).mod(d);for(a[s]=new Array(d.getLength()-1),h=0;h<a[s].length;h+=1){var f=h+l.getLength()-a[s].length;a[s][h]=0<=f?l.getAt(f):0}}for(var p=0,h=0;h<e.length;h+=1)p+=e[h].totalCount;var g=new Array(p),v=0;for(h=0;h<n;h+=1)for(s=0;s<e.length;s+=1)h<i[s].length&&(g[v]=i[s][h],v+=1);for(h=0;h<o;h+=1)for(s=0;s<e.length;s+=1)h<a[s].length&&(g[v]=a[s][h],v+=1);return g}(o,n)};f.addData=function(t,e){var r=null;switch(e=e||"Byte"){case"Numeric":r=S(t);break;case"Alphanumeric":r=C(t);break;case"Byte":r=P(t);break;case"Kanji":r=O(t);break;default:throw"mode:"+e}c.push(r),n=null},f.isDark=function(t,e){if(t<0||d<=t||e<0||d<=e)throw t+","+e;return h[t][e]},f.getModuleCount=function(){return d},f.make=function(){if(s<1){for(var t=1;t<40;t++){for(var e=b.getRSBlocks(t,u),r=x(),n=0;n<c.length;n++){var o=c[n];r.put(o.getMode(),4),r.put(o.getLength(),_.getLengthInBits(o.getMode(),t)),o.write(r)}for(var i=0,n=0;n<e.length;n++)i+=e[n].dataCount;if(r.getLengthInBits()<=8*i)break}s=t}a(!1,function(){for(var t=0,e=0,r=0;r<8;r+=1){a(!0,r);var n=_.getLostPoint(f);(0==r||n<t)&&(t=n,e=r)}return e}())},f.createTableTag=function(t,e){t=t||2;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",r+='">',r+="<tbody>";for(var n=0;n<f.getModuleCount();n+=1){r+="<tr>";for(var o=0;o<f.getModuleCount();o+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+t+"px;",r+=" height: "+t+"px;",r+=" background-color: ",r+=f.isDark(n,o)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return(r+="</tbody>")+"</table>"},f.createSvgTag=function(t,e,r,n){var o={};"object"==_typeof(arguments[0])&&(t=(o=arguments[0]).cellSize,e=o.margin,r=o.alt,n=o.title),t=t||2,e=void 0===e?4*t:e,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;var i,a,s,u=f.getModuleCount()*t+2*e,c="",h="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ";for(c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',c+=o.scalable?"":' width="'+u+'px" height="'+u+'px"',c+=' viewBox="0 0 '+u+" "+u+'" ',c+=' preserveAspectRatio="xMinYMin meet"',c+=n.text||r.text?' role="img" aria-labelledby="'+y([n.id,r.id].join(" ").trim())+'"':"",c+=">",c+=n.text?'<title id="'+y(n.id)+'">'+y(n.text)+"</title>":"",c+=r.text?'<description id="'+y(r.id)+'">'+y(r.text)+"</description>":"",c+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',c+='<path d="',a=0;a<f.getModuleCount();a+=1)for(s=a*t+e,i=0;i<f.getModuleCount();i+=1)f.isDark(a,i)&&(c+="M"+(i*t+e)+","+s+h);return(c+='" stroke="transparent" fill="black"/>')+"</svg>"},f.createDataURL=function(o,t){o=o||2,t=void 0===t?4*o:t;var e=f.getModuleCount()*o+2*t,i=t,a=e-t;return z(e,e,function(t,e){if(i<=t&&t<a&&i<=e&&e<a){var r=Math.floor((t-i)/o),n=Math.floor((e-i)/o);return f.isDark(n,r)?0:1}return 1})},f.createImgTag=function(t,e,r){t=t||2,e=void 0===e?4*t:e;var n=f.getModuleCount()*t+2*e,o="";return o+="<img",o+=' src="',o+=f.createDataURL(t,e),o+='"',o+=' width="',o+=n,o+='"',o+=' height="',o+=n,o+='"',r&&(o+=' alt="',o+=y(r),o+='"'),o+"/>"};var y=function(t){for(var e="",r=0;r<t.length;r+=1){var n=t.charAt(r);switch(n){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=n}}return e};return f.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;for(var e,r,n,o,i=+f.getModuleCount()+2*t,a=t,s=i-t,u={"██":"█","█ ":"▀"," █":"▄","  ":" "},c={"██":"▀","█ ":"▀"," █":" ","  ":" "},h="",d=0;d<i;d+=2){for(r=Math.floor(d-a),n=Math.floor(d+1-a),e=0;e<i;e+=1)o="█",a<=e&&e<s&&a<=d&&d<s&&f.isDark(r,Math.floor(e-a))&&(o=" "),a<=e&&e<s&&a<=d+1&&d+1<s&&f.isDark(n,Math.floor(e-a))?o+=" ":o+="█",h+=t<1&&s<=d+1?c[o]:u[o];h+="\n"}return i%2&&0<t?h.substring(0,h.length-i-1)+Array(1+i).join("▀"):h.substring(0,h.length-1)}(e);--t,e=void 0===e?2*t:e;for(var r,n,o,i=f.getModuleCount()*t+2*e,a=e,s=i-e,u=Array(t+1).join("██"),c=Array(t+1).join("  "),h="",d="",l=0;l<i;l+=1){for(n=Math.floor((l-a)/t),d="",r=0;r<i;r+=1)o=1,a<=r&&r<s&&a<=l&&l<s&&f.isDark(n,Math.floor((r-a)/t))&&(o=0),d+=o?u:c;for(n=0;n<t;n+=1)h+=d+"\n"}return h.substring(0,h.length-1)},f.renderTo2dContext=function(t,e){e=e||2;for(var r=f.getModuleCount(),n=0;n<r;n++)for(var o=0;o<r;o++)t.fillStyle=f.isDark(n,o)?"black":"white",t.fillRect(n*e,o*e,e,e)},f}n.stringToBytes=(n.stringToBytesFuncs={default:function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t.charCodeAt(r);e.push(255&n)}return e}}).default,n.createStringToBytes=function(s,u){var i=function(){function t(){var t=e.read();if(-1==t)throw"eof";return t}for(var e=c(s),r=0,n={};;){var o=e.read();if(-1==o)break;var i=t(),a=t()<<8|t();n[String.fromCharCode(o<<8|i)]=a,r+=1}if(r!=u)throw r+" != "+u;return n}(),a="?".charCodeAt(0);return function(t){for(var e=[],r=0;r<t.length;r+=1){var n,o=t.charCodeAt(r);o<128?e.push(o):"number"==typeof(n=i[t.charAt(r)])?(255&n)==n?e.push(n):(e.push(n>>>8),e.push(255&n)):e.push(a)}return e}};var e,r,o,t,i,w={L:1,M:0,Q:3,H:2},_=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=1335,o=7973,i=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(t={}).getBCHTypeInfo=function(t){for(var e=t<<10;0<=i(e)-i(r);)e^=r<<i(e)-i(r);return 21522^(t<<10|e)},t.getBCHTypeNumber=function(t){for(var e=t<<12;0<=i(e)-i(o);)e^=o<<i(e)-i(o);return t<<12|e},t.getPatternPosition=function(t){return e[t-1]},t.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},t.getErrorCorrectPolynomial=function(t){for(var e=m([1],0),r=0;r<t;r+=1)e=e.multiply(m([1,a.gexp(r)],0));return e},t.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},t.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n+=1)for(var o=0;o<e;o+=1){for(var i=0,a=t.isDark(n,o),s=-1;s<=1;s+=1)if(!(n+s<0||e<=n+s))for(var u=-1;u<=1;u+=1)o+u<0||e<=o+u||0==s&&0==u||a==t.isDark(n+s,o+u)&&(i+=1);5<i&&(r+=3+i-5)}for(n=0;n<e-1;n+=1)for(o=0;o<e-1;o+=1){var c=0;t.isDark(n,o)&&(c+=1),t.isDark(n+1,o)&&(c+=1),t.isDark(n,o+1)&&(c+=1),t.isDark(n+1,o+1)&&(c+=1),0!=c&&4!=c||(r+=3)}for(n=0;n<e;n+=1)for(o=0;o<e-6;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(r+=40);for(o=0;o<e;o+=1)for(n=0;n<e-6;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);for(var h=0,o=0;o<e;o+=1)for(n=0;n<e;n+=1)t.isDark(n,o)&&(h+=1);return r+Math.abs(100*h/e/e-50)/5*10},t),a=function(){for(var e=new Array(256),r=new Array(256),t=0;t<8;t+=1)e[t]=1<<t;for(t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(t=0;t<255;t+=1)r[e[t]]=t;return{glog:function(t){if(t<1)throw"glog("+t+")";return r[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return e[t]}}}();function m(n,o){if(void 0===n.length)throw n.length+"/"+o;var e=function(){for(var t=0;t<n.length&&0==n[t];)t+=1;for(var e=new Array(n.length-t+o),r=0;r<n.length-t;r+=1)e[r]=n[r+t];return e}(),i={getAt:function(t){return e[t]},getLength:function(){return e.length},multiply:function(t){for(var e=new Array(i.getLength()+t.getLength()-1),r=0;r<i.getLength();r+=1)for(var n=0;n<t.getLength();n+=1)e[r+n]^=a.gexp(a.glog(i.getAt(r))+a.glog(t.getAt(n)));return m(e,0)},mod:function(t){if(i.getLength()-t.getLength()<0)return i;for(var e=a.glog(i.getAt(0))-a.glog(t.getAt(0)),r=new Array(i.getLength()),n=0;n<i.getLength();n+=1)r[n]=i.getAt(n);for(n=0;n<t.getLength();n+=1)r[n]^=a.gexp(a.glog(t.getAt(n))+e);return m(r,0).mod(t)}};return i}function M(){var r=[],o={writeByte:function(t){r.push(255&t)},writeShort:function(t){o.writeByte(t),o.writeByte(t>>>8)},writeBytes:function(t,e,r){e=e||0,r=r||t.length;for(var n=0;n<r;n+=1)o.writeByte(t[n+e])},writeString:function(t){for(var e=0;e<t.length;e+=1)o.writeByte(t.charCodeAt(e))},toByteArray:function(){return r},toString:function(){var t="";t+="[";for(var e=0;e<r.length;e+=1)0<e&&(t+=","),t+=r[e];return t+"]"}};return o}var l,b=(l=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],{getRSBlocks:function(t,e){var r=function(t){switch(e){case w.L:return l[4*(t-1)+0];case w.M:return l[4*(t-1)+1];case w.Q:return l[4*(t-1)+2];case w.H:return l[4*(t-1)+3];default:return}}(t);if(void 0===r)throw"bad rs block @ typeNumber:"+t+"/errorCorrectionLevel:"+e;for(var n,o,i=r.length/3,a=[],s=0;s<i;s+=1)for(var u=r[3*s+0],c=r[3*s+1],h=r[3*s+2],d=0;d<u;d+=1)a.push((n=h,o=void 0,(o={}).totalCount=c,o.dataCount=n,o));return a}}),x=function(){var r=[],n=0,o={getBuffer:function(){return r},getAt:function(t){var e=Math.floor(t/8);return 1==(r[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)o.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return n},putBit:function(t){var e=Math.floor(n/8);r.length<=e&&r.push(0),t&&(r[e]|=128>>>n%8),n+=1}};return o},S=function(t){var n=t,e={getMode:function(){return 1},getLength:function(){return n.length},write:function(t){for(var e=n,r=0;r+2<e.length;)t.put(o(e.substring(r,r+3)),10),r+=3;r<e.length&&(e.length-r==1?t.put(o(e.substring(r,r+1)),4):e.length-r==2&&t.put(o(e.substring(r,r+2)),7))}},o=function(t){for(var e=0,r=0;r<t.length;r+=1)e=10*e+i(t.charAt(r));return e},i=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return e},C=function(t){var n=t,e={getMode:function(){return 2},getLength:function(){return n.length},write:function(t){for(var e=n,r=0;r+1<e.length;)t.put(45*o(e.charAt(r))+o(e.charAt(r+1)),11),r+=2;r<e.length&&t.put(o(e.charAt(r)),6)}},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return e},P=function(t){var r=n.stringToBytes(t);return{getMode:function(){return 4},getLength:function(){return r.length},write:function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)}}},O=function(t){var e=n.stringToBytesFuncs.SJIS;if(!e)throw"sjis not supported.";!function(){var t=e("友");if(2!=t.length||38726!=(t[0]<<8|t[1]))throw"sjis not supported."}();var o=e(t);return{getMode:function(){return 8},getLength:function(){return~~(o.length/2)},write:function(t){for(var e=o,r=0;r+1<e.length;){var n=(255&e[r])<<8|255&e[r+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(r+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13),r+=2}if(r<e.length)throw"illegal char at "+(r+1)}}},c=function(t){var r=t,n=0,o=0,i=0,e={read:function(){for(;i<8;){if(n>=r.length){if(0==i)return-1;throw"unexpected end of file./"+i}var t=r.charAt(n);if(n+=1,"="==t)return i=0,-1;t.match(/^\s$/)||(o=o<<6|a(t.charCodeAt(0)),i+=6)}var e=o>>>i-8&255;return i-=8,e}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return e},z=function(t,e,r){for(var n,o,p,i,a,g,s=(n=t,o=e,p=new Array(t*e),i={setPixel:function(t,e,r){p[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(o),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(o),t.writeByte(0);var e=a(2);t.writeByte(2);for(var r=0;255<e.length-r;)t.writeByte(255),t.writeBytes(e,r,255),r+=255;t.writeByte(e.length-r),t.writeBytes(e,r,e.length-r),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,r=1+(1<<t),n=t+1,o=g(),i=0;i<e;i+=1)o.add(String.fromCharCode(i));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(r));var a,s,u,c=M(),h=(a=c,u=s=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;8<=s+e;)a.writeByte(255&(t<<s|u)),e-=8-s,t>>>=8-s,s=u=0;u|=t<<s,s+=e},flush:function(){0<s&&a.writeByte(u)}});h.write(e,n);var d=0,l=String.fromCharCode(p[d]);for(d+=1;d<p.length;){var f=String.fromCharCode(p[d]);d+=1,o.contains(l+f)?l+=f:(h.write(o.indexOf(l),n),o.size()<4095&&(o.size()==1<<n&&(n+=1),o.add(l+f)),l=f)}return h.write(o.indexOf(l),n),h.write(r,n),h.flush(),c.toByteArray()},g=function(){var e={},r=0,n={add:function(t){if(n.contains(t))throw"dup key:"+t;e[t]=r,r+=1},size:function(){return r},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n},i),u=0;u<e;u+=1)for(var c=0;c<t;c+=1)s.setPixel(c,u,r(c,u));var h=M();s.write(h);for(var d,l,f,v,y,w,_=(f=l=d=0,v="",w=function(t){if(!(t<0)){if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t},(y={}).writeByte=function(t){for(d=d<<8|255&t,l+=8,f+=1;6<=l;)x(d>>>l-6),l-=6},y.flush=function(){if(0<l&&(x(d<<6-l),l=d=0),f%3!=0)for(var t=3-f%3,e=0;e<t;e+=1)v+="="},y.toString=function(){return v},y),m=h.toByteArray(),b=0;b<m.length;b+=1)_.writeByte(m[b]);function x(t){v+=String.fromCharCode(w(63&t))}return _.flush(),"data:image/gif;base64,"+_};return n}();o.stringToBytesFuncs["UTF-8"]=function(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||57344<=n?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e},void 0===(n="function"==typeof(r=function(){return o})?r.apply(e,[]):r)||(t.exports=n)},796:function(t,e,r){"use strict";r.d(e,{default:function(){return J}});var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},s=function(t){return!!t&&"object"==(void 0===t?"undefined":_typeof(t))&&!Array.isArray(t)};function u(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!t.length)return n;var o=t.shift();return void 0!==o&&s(n)&&s(o)?(n=i({},n),Object.keys(o).forEach(function(t){var e=n[t],r=o[t];(!Array.isArray(e)||!Array.isArray(r))&&s(e)&&s(r)?n[t]=u(Object.assign({},e),r):n[t]=r}),u.apply(void 0,a([n],t))):n}function c(t,e){var r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function _(t){var e=t.originalHeight,r=t.originalWidth,n=t.maxHiddenDots,o=t.maxHiddenAxisDots,i=t.dotSize,a={x:0,y:0},s={x:0,y:0};if(e<=0||r<=0||n<=0||i<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var u=e/r;return a.x=Math.floor(Math.sqrt(n/u)),a.x<=0&&(a.x=1),o&&o<a.x&&(a.x=o),a.x%2==0&&a.x--,s.x=a.x*i,a.y=1+2*Math.ceil((a.x*u-1)/2),s.y=Math.round(s.x*u),(a.y*a.x>n||o&&o<a.y)&&(o&&o<a.y?(a.y=o,a.y%2==0&&a.x--):a.y-=2,s.y=a.y*i,a.x=1+2*Math.ceil((a.y/u-1)/2),s.x=Math.round(s.y/u)),{height:s.y,width:s.x,hideYDots:a.y,hideXDots:a.x}}var m={L:.07,M:.15,Q:.25,H:.3},h="rounded",d="classy-rounded",l="extra-rounded",n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},q=(o.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"dots":o=this._drawDot;break;case"classy":o=this._drawClassy;break;case d:o=this._drawClassyRounded;break;case h:o=this._drawRounded;break;case l:o=this._drawExtraRounded;break;case"square":default:o=this._drawSquare}o.call(this,{x:t,y:e,size:r,context:i,getNeighbor:n})},o.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=void 0===i?0:i,s=t.draw,u=e+n/2,c=r+n/2;o.translate(u,c),a&&o.rotate(a),s(),o.closePath(),a&&o.rotate(-a),o.translate(-u,-c)},o.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},o.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},o.prototype._basicSideRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,Math.PI/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},o.prototype._basicCornerRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},o.prototype._basicCornerExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2)}}))},o.prototype._basicCornersRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(0,e/2),r.arc(0,0,e/2,Math.PI/2,Math.PI),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},o.prototype._basicCornersExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(n(n({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.arc(e/2,-e/2,e,Math.PI/2,Math.PI)}}))},o.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context;this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},o.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context;this._basicSquare({x:e,y:r,size:n,context:o,rotation:0})},o.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,c=i?+i(0,1):0,h=a+s+u+c;if(0!=h)if(2<h||a&&s||u&&c)this._basicSquare({x:e,y:r,size:n,context:o,rotation:0});else{if(2==h){var d=0;return a&&u?d=Math.PI/2:u&&s?d=Math.PI:s&&c&&(d=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:d})}if(1==h)return d=0,u?d=Math.PI/2:s?d=Math.PI:c&&(d=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:o,rotation:d})}else this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},o.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,c=i?+i(0,1):0,h=a+s+u+c;if(0!=h)if(2<h||a&&s||u&&c)this._basicSquare({x:e,y:r,size:n,context:o,rotation:0});else{if(2==h){var d=0;return a&&u?d=Math.PI/2:u&&s?d=Math.PI:s&&c&&(d=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:d})}if(1==h)return d=0,u?d=Math.PI/2:s?d=Math.PI:c&&(d=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:o,rotation:d})}else this._basicDot({x:e,y:r,size:n,context:o,rotation:0})},o.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,c=i?+i(0,1):0;0!=a+s+u+c?a||u?s||c?this._basicSquare({x:e,y:r,size:n,context:o,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2})},o.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.getNeighbor,a=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,c=i?+i(0,1):0;0!=a+s+u+c?a||u?s||c?this._basicSquare({x:e,y:r,size:n,context:o,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:o,rotation:Math.PI/2})},o),f="extra-rounded";function o(t){var e=t.context,r=t.type;this._context=e,this._type=r}var p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R=(g.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"square":o=this._drawSquare;break;case f:o=this._drawExtraRounded;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,context:i,rotation:n})},g.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=void 0===i?0:i,s=t.draw,u=e+n/2,c=r+n/2;o.translate(u,c),a&&o.rotate(a),s(),o.closePath(),a&&o.rotate(-a),o.translate(-u,-c)},g.prototype._basicDot=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(p(p({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI),r.arc(0,0,e/2-n,0,2*Math.PI)}}))},g.prototype._basicSquare=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(p(p({},t),{draw:function(){r.rect(-e/2,-e/2,e,e),r.rect(-e/2+n,-e/2+n,e-2*n,e-2*n)}}))},g.prototype._basicExtraRounded=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(p(p({},t),{draw:function(){r.arc(-n,-n,2.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-3.5*n),r.arc(n,-n,2.5*n,-Math.PI/2,0),r.lineTo(3.5*n,-n),r.arc(n,n,2.5*n,0,Math.PI/2),r.lineTo(-n,3.5*n),r.arc(-n,n,2.5*n,Math.PI/2,Math.PI),r.lineTo(-3.5*n,-n),r.arc(-n,-n,1.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-2.5*n),r.arc(n,-n,1.5*n,-Math.PI/2,0),r.lineTo(2.5*n,-n),r.arc(n,n,1.5*n,0,Math.PI/2),r.lineTo(-n,2.5*n),r.arc(-n,n,1.5*n,Math.PI/2,Math.PI),r.lineTo(-2.5*n,-n)}}))},g.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicDot({x:e,y:r,size:n,context:o,rotation:i})},g.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicSquare({x:e,y:r,size:n,context:o,rotation:i})},g.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,context:o,rotation:i})},g);function g(t){var e=t.context,r=t.type;this._context=e,this._type=r}var v=function(){return(v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},B=(y.prototype.draw=function(t,e,r,n){var o,i=this._context;switch(this._type){case"square":o=this._drawSquare;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,context:i,rotation:n})},y.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation,a=void 0===i?0:i,s=t.draw,u=e+n/2,c=r+n/2;o.translate(u,c),a&&o.rotate(a),s(),o.closePath(),a&&o.rotate(-a),o.translate(-u,-c)},y.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(v(v({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},y.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(v(v({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},y.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicDot({x:e,y:r,size:n,context:o,rotation:i})},y.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.context,i=t.rotation;this._basicSquare({x:e,y:r,size:n,context:o,rotation:i})},y);function y(t){var e=t.context,r=t.type;this._context=e,this._type=r}var E=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],L=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],w=(Object.defineProperty(b.prototype,"context",{get:function(){return this._canvas.getContext("2d")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this._canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this._canvas.height},enumerable:!1,configurable:!0}),b.prototype.getCanvas=function(){return this._canvas},b.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this._canvas.width,this._canvas.height)},b.prototype.drawQR=function(w){return t=this,s=function(){var u,e,r,c,n,o,i,a,s,h,d,l,f,p,g,t,v=this;return h=this,d=function(t){switch(t.label){case 0:return u=w.getModuleCount(),e=Math.min(this._options.width,this._options.height)-2*this._options.margin,r=Math.floor(e/u),c={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=w,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(t.sent(),!this._image)return[2];n=this._options,o=n.imageOptions,i=n.qrOptions,a=o.imageSize*m[i.errorCorrectionLevel],s=Math.floor(a*u*u),c=_({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:s,maxHiddenAxisDots:u-14,dotSize:r}),t.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots(function(t,e){var r,n,o,i,a,s;return!(v._options.imageOptions.hideBackgroundDots&&t>=(u-c.hideXDots)/2&&t<(u+c.hideXDots)/2&&e>=(u-c.hideYDots)/2&&e<(u+c.hideYDots)/2||null!==(r=E[t])&&void 0!==r&&r[e]||null!==(n=E[t-u+7])&&void 0!==n&&n[e]||null!==(o=E[t])&&void 0!==o&&o[e-u+7]||null!==(i=L[t])&&void 0!==i&&i[e]||null!==(a=L[t-u+7])&&void 0!==a&&a[e]||null!==(s=L[t])&&void 0!==s&&s[e-u+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:c.width,height:c.height,count:u,dotSize:r}),[2]}},g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]},t={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function y(e){return function(t){return function(e){if(l)throw new TypeError("Generator is already executing.");for(;g;)try{if(l=1,f&&(p=2&e[0]?f.return:e[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,e[1])).done)return p;switch(f=0,p&&(e=[2&e[0],p.value]),e[0]){case 0:case 1:p=e;break;case 4:return g.label++,{value:e[1],done:!1};case 5:g.label++,f=e[1],e=[0];continue;case 7:e=g.ops.pop(),g.trys.pop();continue;default:if(!((p=0<(p=g.trys).length&&p[p.length-1])||6!==e[0]&&2!==e[0])){g=0;continue}if(3===e[0]&&(!p||e[1]>p[0]&&e[1]<p[3])){g.label=e[1];break}if(6===e[0]&&g.label<p[1]){g.label=p[1],p=e;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(e);break}p[2]&&g.ops.pop(),g.trys.pop();continue}e=d.call(h,g)}catch(t){e=[6,t],f=0}finally{l=p=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},a=void 0,new(a=Promise)(function(r,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function o(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((s=s.apply(t,[])).next())});var t,a,s},b.prototype.drawBackground=function(){var t,n,e=this.context,r=this._options;e&&(r.backgroundOptions.gradient?(t=r.backgroundOptions.gradient,n=this._createGradient({context:e,options:t,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height}),t.colorStops.forEach(function(t){var e=t.offset,r=t.color;n.addColorStop(e,r)}),e.fillStyle=n):r.backgroundOptions.color&&(e.fillStyle=r.backgroundOptions.color),e.fillRect(0,0,this._canvas.width,this._canvas.height))},b.prototype.drawDots=function(o){var i=this;if(!this._qr)throw"QR code is not defined";var t=this.context;if(!t)throw"QR code is not defined";var e=this._options,a=this._qr.getModuleCount();if(a>e.width||a>e.height)throw"The canvas is too small.";var r=Math.min(e.width,e.height)-2*e.margin,s=Math.floor(r/a),u=Math.floor((e.width-a*s)/2),c=Math.floor((e.height-a*s)/2),h=new q({context:t,type:e.dotsOptions.type});t.beginPath();for(var n,d,l=this,f=0;f<a;f++)!function(n){for(var t=0;t<a;t++)!function(r){(!o||o(n,r))&&l._qr.isDark(n,r)&&h.draw(u+n*s,c+r*s,s,function(t,e){return!(n+t<0||r+e<0||a<=n+t||a<=r+e)&&!(o&&!o(n+t,r+e))&&!!i._qr&&i._qr.isDark(n+t,r+e)})}(t)}(f);e.dotsOptions.gradient?(n=e.dotsOptions.gradient,d=this._createGradient({context:t,options:n,additionalRotation:0,x:u,y:c,size:a*s}),n.colorStops.forEach(function(t){var e=t.offset,r=t.color;d.addColorStop(e,r)}),t.fillStyle=t.strokeStyle=d):e.dotsOptions.color&&(t.fillStyle=t.strokeStyle=e.dotsOptions.color),t.fill("evenodd")},b.prototype.drawCorners=function(M){var S=this;if(!this._qr)throw"QR code is not defined";var C=this.context;if(!C)throw"QR code is not defined";var P=this._options,O=this._qr.getModuleCount(),t=Math.min(P.width,P.height)-2*P.margin,z=Math.floor(t/O),D=7*z,I=3*z,A=Math.floor((P.width-O*z)/2),k=Math.floor((P.height-O*z)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(t){var e,r,i,n,o,a,s,u,c,h,d=t[0],l=t[1],f=t[2];if(!M||M(d,l)){var p,g,v,y=A+d*z*(O-7),w=k+l*z*(O-7);if(null!==(e=P.cornersSquareOptions)&&void 0!==e&&e.type){var _=new R({context:C,type:null===(r=P.cornersSquareOptions)||void 0===r?void 0:r.type});C.beginPath(),_.draw(y,w,D,f)}else{var m=new q({context:C,type:P.dotsOptions.type});C.beginPath();for(var b=0;b<E.length;b++)!function(o){for(var t=0;t<E[o].length;t++)!function(n){if(null===(i=E[o])||void 0===i||!i[n])return;m.draw(y+o*z,w+n*z,z,function(t,e){var r;return!(null===(r=E[o+t])||void 0===r||!r[n+e])})}(t)}(b)}if(null!==(n=P.cornersSquareOptions)&&void 0!==n&&n.gradient?(p=P.cornersSquareOptions.gradient,g=S._createGradient({context:C,options:p,additionalRotation:f,x:y,y:w,size:D}),p.colorStops.forEach(function(t){var e=t.offset,r=t.color;g.addColorStop(e,r)}),C.fillStyle=C.strokeStyle=g):null!==(o=P.cornersSquareOptions)&&void 0!==o&&o.color&&(C.fillStyle=C.strokeStyle=P.cornersSquareOptions.color),C.fill("evenodd"),null!==(a=P.cornersDotOptions)&&void 0!==a&&a.type){var x=new B({context:C,type:null===(s=P.cornersDotOptions)||void 0===s?void 0:s.type});C.beginPath(),x.draw(y+2*z,w+2*z,I,f)}else{m=new q({context:C,type:P.dotsOptions.type}),C.beginPath();for(b=0;b<L.length;b++)!function(o){for(var t=0;t<L[o].length;t++)!function(n){if(null===(u=L[o])||void 0===u||!u[n])return;m.draw(y+o*z,w+n*z,z,function(t,e){var r;return!(null===(r=L[o+t])||void 0===r||!r[n+e])})}(t)}(b)}null!==(c=P.cornersDotOptions)&&void 0!==c&&c.gradient?(p=P.cornersDotOptions.gradient,v=S._createGradient({context:C,options:p,additionalRotation:f,x:y+2*z,y:w+2*z,size:I}),p.colorStops.forEach(function(t){var e=t.offset,r=t.color;v.addColorStop(e,r)}),C.fillStyle=C.strokeStyle=v):null!==(h=P.cornersDotOptions)&&void 0!==h&&h.color&&(C.fillStyle=C.strokeStyle=P.cornersDotOptions.color),C.fill("evenodd")}})},b.prototype.loadImage=function(){var o=this;return new Promise(function(t,e){var r=o._options,n=new Image;if(!r.image)return e("Image is not defined");"string"==typeof r.imageOptions.crossOrigin&&(n.crossOrigin=r.imageOptions.crossOrigin),(o._image=n).onload=function(){t()},n.src=r.image})},b.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,o=t.dotSize,i=this.context;if(!i)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";var a=this._options,s=Math.floor((a.width-n*o)/2),u=Math.floor((a.height-n*o)/2),c=s+a.imageOptions.margin+(n*o-e)/2,h=u+a.imageOptions.margin+(n*o-r)/2,d=e-2*a.imageOptions.margin,l=r-2*a.imageOptions.margin;i.drawImage(this._image,c,h,d<0?0:d,l<0?0:l)},b.prototype._createGradient=function(t){var e,r,n,o,i,a,s=t.context,u=t.options,c=t.additionalRotation,h=t.x,d=t.y,l=t.size,f="radial"===u.type?s.createRadialGradient(h+l/2,d+l/2,0,h+l/2,d+l/2,l/2):(i=n=h+l/2,a=o=d+l/2,0<=(r=((e=((u.rotation||0)+c)%(2*Math.PI))+2*Math.PI)%(2*Math.PI))&&r<=.25*Math.PI||r>1.75*Math.PI&&r<=2*Math.PI?(n-=l/2,o-=l/2*Math.tan(e),i+=l/2,a+=l/2*Math.tan(e)):r>.25*Math.PI&&r<=.75*Math.PI?(o-=l/2,n-=l/2/Math.tan(e),a+=l/2,i+=l/2/Math.tan(e)):r>.75*Math.PI&&r<=1.25*Math.PI?(n+=l/2,o+=l/2*Math.tan(e),i-=l/2,a-=l/2*Math.tan(e)):r>1.25*Math.PI&&r<=1.75*Math.PI&&(o+=l/2,n+=l/2/Math.tan(e),a-=l/2,i-=l/2/Math.tan(e)),s.createLinearGradient(Math.round(n),Math.round(o),Math.round(i),Math.round(a)));return f},b);function b(t){this._canvas=document.createElement("canvas"),this._canvas.width=t.width,this._canvas.height=t.height,this._options=t}var x=function(){return(x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=(M.prototype.draw=function(t,e,r,n){var o;switch(this._type){case"dots":o=this._drawDot;break;case"classy":o=this._drawClassy;break;case d:o=this._drawClassyRounded;break;case h:o=this._drawRounded;break;case l:o=this._drawExtraRounded;break;case"square":default:o=this._drawSquare}o.call(this,{x:t,y:e,size:r,getNeighbor:n})},M.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=r+o/2,u=n+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},M.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(o+r/2)),e._element.setAttribute("r",String(r/2))}}))},M.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(o)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},M.prototype._basicSideRounded=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+o+"v "+r+"h "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, 0 "+-r)}}))},M.prototype._basicCornerRounded=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+o+"v "+r+"h "+r+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},M.prototype._basicCornerExtraRounded=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+o+"v "+r+"h "+r+"a "+r+" "+r+", 0, 0, 0, "+-r+" "+-r)}}))},M.prototype._basicCornersRounded=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(x(x({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+o+"v "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+r/2+" "+r/2+"h "+r/2+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},M.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size;this._basicDot({x:e,y:r,size:n,rotation:0})},M.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size;this._basicSquare({x:e,y:r,size:n,rotation:0})},M.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0,c=i+a+s+u;if(0!=c)if(2<c||i&&a||s&&u)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(2==c){var h=0;return i&&s?h=Math.PI/2:s&&a?h=Math.PI:a&&u&&(h=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,rotation:h})}if(1==c)return h=0,s?h=Math.PI/2:a?h=Math.PI:u&&(h=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:h})}else this._basicDot({x:e,y:r,size:n,rotation:0})},M.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0,c=i+a+s+u;if(0!=c)if(2<c||i&&a||s&&u)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(2==c){var h=0;return i&&s?h=Math.PI/2:s&&a?h=Math.PI:a&&u&&(h=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:h})}if(1==c)return h=0,s?h=Math.PI/2:a?h=Math.PI:u&&(h=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:h})}else this._basicDot({x:e,y:r,size:n,rotation:0})},M.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0;0!=i+a+s+u?i||s?a||u?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},M.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0;0!=i+a+s+u?i||s?a||u?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},M);function M(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}var S=function(){return(S=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N=(C.prototype.draw=function(t,e,r,n){var o;switch(this._type){case"square":o=this._drawSquare;break;case f:o=this._drawExtraRounded;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,rotation:n})},C.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=r+o/2,u=n+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},C.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,o=t.y,i=r/7;this._rotateFigure(S(S({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(n+r/2)+" "+o+"a "+r/2+" "+r/2+" 0 1 0 0.1 0zm 0 "+i+"a "+(r/2-i)+" "+(r/2-i)+" 0 1 1 -0.1 0Z")}}))},C.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,o=t.y,i=r/7;this._rotateFigure(S(S({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+o+"v "+r+"h "+r+"v "+-r+"zM "+(n+i)+" "+(o+i)+"h "+(r-2*i)+"v "+(r-2*i)+"h "+(2*i-r)+"z")}}))},C.prototype._basicExtraRounded=function(t){var e=this,r=t.size,n=t.x,o=t.y,i=r/7;this._rotateFigure(S(S({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+(o+2.5*i)+"v "+2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*i+" "+2.5*i+"h "+2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*i+" "+2.5*-i+"v "+-2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*-i+" "+2.5*-i+"h "+-2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*-i+" "+2.5*i+"M "+(n+2.5*i)+" "+(o+i)+"h "+2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*i+" "+1.5*i+"v "+2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*-i+" "+1.5*i+"h "+-2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*-i+" "+1.5*-i+"v "+-2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*i+" "+1.5*-i)}}))},C.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:o})},C.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:o})},C.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,o=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,rotation:o})},C);function C(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}var P=function(){return(P=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},T=(O.prototype.draw=function(t,e,r,n){var o;switch(this._type){case"square":o=this._drawSquare;break;case"dot":default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,rotation:n})},O.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=r+o/2,u=n+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},O.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(P(P({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(o+r/2)),e._element.setAttribute("r",String(r/2))}}))},O.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,o=t.y;this._rotateFigure(P(P({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(o)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},O.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,o=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:o})},O.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,o=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:o})},O);function O(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}var j=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],F=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],z=(Object.defineProperty(I.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),I.prototype.getElement=function(){return this._element},I.prototype.clear=function(){var t,e=this._element;this._element=e.cloneNode(!1),null===(t=null==e?void 0:e.parentNode)||void 0===t||t.replaceChild(this._element,e),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs)},I.prototype.drawQR=function(w){return t=this,s=function(){var u,e,r,c,n,o,i,a,s,h,d,l,f,p,g,t,v=this;return h=this,d=function(t){switch(t.label){case 0:return u=w.getModuleCount(),e=Math.min(this._options.width,this._options.height)-2*this._options.margin,r=Math.floor(e/u),c={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=w,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(t.sent(),!this._image)return[2];n=this._options,o=n.imageOptions,i=n.qrOptions,a=o.imageSize*m[i.errorCorrectionLevel],s=Math.floor(a*u*u),c=_({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:s,maxHiddenAxisDots:u-14,dotSize:r}),t.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots(function(t,e){var r,n,o,i,a,s;return!(v._options.imageOptions.hideBackgroundDots&&t>=(u-c.hideXDots)/2&&t<(u+c.hideXDots)/2&&e>=(u-c.hideYDots)/2&&e<(u+c.hideYDots)/2||null!==(r=j[t])&&void 0!==r&&r[e]||null!==(n=j[t-u+7])&&void 0!==n&&n[e]||null!==(o=j[t])&&void 0!==o&&o[e-u+7]||null!==(i=F[t])&&void 0!==i&&i[e]||null!==(a=F[t-u+7])&&void 0!==a&&a[e]||null!==(s=F[t])&&void 0!==s&&s[e-u+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:c.width,height:c.height,count:u,dotSize:r}),[2]}},g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]},t={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function y(e){return function(t){return function(e){if(l)throw new TypeError("Generator is already executing.");for(;g;)try{if(l=1,f&&(p=2&e[0]?f.return:e[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,e[1])).done)return p;switch(f=0,p&&(e=[2&e[0],p.value]),e[0]){case 0:case 1:p=e;break;case 4:return g.label++,{value:e[1],done:!1};case 5:g.label++,f=e[1],e=[0];continue;case 7:e=g.ops.pop(),g.trys.pop();continue;default:if(!((p=0<(p=g.trys).length&&p[p.length-1])||6!==e[0]&&2!==e[0])){g=0;continue}if(3===e[0]&&(!p||e[1]>p[0]&&e[1]<p[3])){g.label=e[1];break}if(6===e[0]&&g.label<p[1]){g.label=p[1],p=e;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(e);break}p[2]&&g.ops.pop(),g.trys.pop();continue}e=d.call(h,g)}catch(t){e=[6,t],f=0}finally{l=p=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},a=void 0,new(a=Promise)(function(r,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function o(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((s=s.apply(t,[])).next())});var t,a,s},I.prototype.drawBackground=function(){var t,e,r,n,o=this._element,i=this._options;o&&(r=null===(t=i.backgroundOptions)||void 0===t?void 0:t.gradient,n=null===(e=i.backgroundOptions)||void 0===e?void 0:e.color,(r||n)&&this._createColor({options:r,color:n,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:"background-color"}))},I.prototype.drawDots=function(o){var t,e,i=this;if(!this._qr)throw"QR code is not defined";var r=this._options,a=this._qr.getModuleCount();if(a>r.width||a>r.height)throw"The canvas is too small.";var n=Math.min(r.width,r.height)-2*r.margin,s=Math.floor(n/a),u=Math.floor((r.width-a*s)/2),c=Math.floor((r.height-a*s)/2),h=new k({svg:this._element,type:r.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(t=r.dotsOptions)||void 0===t?void 0:t.gradient,color:r.dotsOptions.color,additionalRotation:0,x:u,y:c,height:a*s,width:a*s,name:"dot-color"});for(var d=this,l=0;l<a;l++)!function(n){for(var t=0;t<a;t++)!function(r){(!o||o(n,r))&&null!==(e=d._qr)&&void 0!==e&&e.isDark(n,r)&&(h.draw(u+n*s,c+r*s,s,function(t,e){return!(n+t<0||r+e<0||a<=n+t||a<=r+e)&&!(o&&!o(n+t,r+e))&&!!i._qr&&i._qr.isDark(n+t,r+e)}),h._element&&d._dotsClipPath&&d._dotsClipPath.appendChild(h._element))}(t)}(l)},I.prototype.drawCorners=function(){var S=this;if(!this._qr)throw"QR code is not defined";var t=this._element,C=this._options;if(!t)throw"Element code is not defined";var P=this._qr.getModuleCount(),e=Math.min(C.width,C.height)-2*C.margin,O=Math.floor(e/P),z=7*O,D=3*O,I=Math.floor((C.width-P*O)/2),A=Math.floor((C.height-P*O)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(t){var e,r,n,o,i,a,s,u,c,h,d,l,f=t[0],p=t[1],g=t[2],v=I+f*O*(P-7),y=A+p*O*(P-7),w=S._dotsClipPath,_=S._dotsClipPath;if((null!==(e=C.cornersSquareOptions)&&void 0!==e&&e.gradient||null!==(r=C.cornersSquareOptions)&&void 0!==r&&r.color)&&((w=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+f+"-"+p),S._defs.appendChild(w),S._cornersSquareClipPath=S._cornersDotClipPath=_=w,S._createColor({options:null===(n=C.cornersSquareOptions)||void 0===n?void 0:n.gradient,color:null===(o=C.cornersSquareOptions)||void 0===o?void 0:o.color,additionalRotation:g,x:v,y:y,height:z,width:z,name:"corners-square-color-"+f+"-"+p})),null!==(i=C.cornersSquareOptions)&&void 0!==i&&i.type){var m=new N({svg:S._element,type:C.cornersSquareOptions.type});m.draw(v,y,z,g),m._element&&w&&w.appendChild(m._element)}else for(var b=new k({svg:S._element,type:C.dotsOptions.type}),x=0;x<j.length;x++)!function(o){for(var t=0;t<j[o].length;t++)!function(n){if(null===(a=j[o])||void 0===a||!a[n])return;b.draw(v+o*O,y+n*O,O,function(t,e){var r;return!(null===(r=j[o+t])||void 0===r||!r[n+e])}),b._element&&w&&w.appendChild(b._element)}(t)}(x);if((null!==(s=C.cornersDotOptions)&&void 0!==s&&s.gradient||null!==(u=C.cornersDotOptions)&&void 0!==u&&u.color)&&((_=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+f+"-"+p),S._defs.appendChild(_),S._cornersDotClipPath=_,S._createColor({options:null===(c=C.cornersDotOptions)||void 0===c?void 0:c.gradient,color:null===(h=C.cornersDotOptions)||void 0===h?void 0:h.color,additionalRotation:g,x:v+2*O,y:y+2*O,height:D,width:D,name:"corners-dot-color-"+f+"-"+p})),null!==(d=C.cornersDotOptions)&&void 0!==d&&d.type){var M=new T({svg:S._element,type:C.cornersDotOptions.type});M.draw(v+2*O,y+2*O,D,g),M._element&&_&&_.appendChild(M._element)}else{b=new k({svg:S._element,type:C.dotsOptions.type});for(x=0;x<F.length;x++)!function(o){for(var t=0;t<F[o].length;t++)!function(n){if(null===(l=F[o])||void 0===l||!l[n])return;b.draw(v+o*O,y+n*O,O,function(t,e){var r;return!(null===(r=F[o+t])||void 0===r||!r[n+e])}),b._element&&_&&_.appendChild(b._element)}(t)}(x)}})},I.prototype.loadImage=function(){var o=this;return new Promise(function(t,e){var r=o._options,n=new Image;if(!r.image)return e("Image is not defined");"string"==typeof r.imageOptions.crossOrigin&&(n.crossOrigin=r.imageOptions.crossOrigin),(o._image=n).onload=function(){t()},n.src=r.image})},I.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,o=t.dotSize,i=this._options,a=Math.floor((i.width-n*o)/2),s=Math.floor((i.height-n*o)/2),u=a+i.imageOptions.margin+(n*o-e)/2,c=s+i.imageOptions.margin+(n*o-r)/2,h=e-2*i.imageOptions.margin,d=r-2*i.imageOptions.margin,l=document.createElementNS("http://www.w3.org/2000/svg","image");l.setAttribute("href",i.image||""),l.setAttribute("x",String(u)),l.setAttribute("y",String(c)),l.setAttribute("width",h+"px"),l.setAttribute("height",d+"px"),this._element.appendChild(l)},I.prototype._createColor=function(t){var o,e,r,n,i,a,s,u=t.options,c=t.color,h=t.additionalRotation,d=t.x,l=t.y,f=t.height,p=t.width,g=t.name,v=f<p?p:f,y=document.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x",String(d)),y.setAttribute("y",String(l)),y.setAttribute("height",String(f)),y.setAttribute("width",String(p)),y.setAttribute("clip-path","url('#clip-path-"+g+"')"),u?("radial"===u.type?((o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",g),o.setAttribute("gradientUnits","userSpaceOnUse"),o.setAttribute("fx",String(d+p/2)),o.setAttribute("fy",String(l+f/2)),o.setAttribute("cx",String(d+p/2)),o.setAttribute("cy",String(l+f/2)),o.setAttribute("r",String(v/2))):(a=n=d+p/2,s=i=l+f/2,0<=(r=((e=((u.rotation||0)+h)%(2*Math.PI))+2*Math.PI)%(2*Math.PI))&&r<=.25*Math.PI||r>1.75*Math.PI&&r<=2*Math.PI?(n-=p/2,i-=f/2*Math.tan(e),a+=p/2,s+=f/2*Math.tan(e)):r>.25*Math.PI&&r<=.75*Math.PI?(i-=f/2,n-=p/2/Math.tan(e),s+=f/2,a+=p/2/Math.tan(e)):r>.75*Math.PI&&r<=1.25*Math.PI?(n+=p/2,i+=f/2*Math.tan(e),a-=p/2,s-=f/2*Math.tan(e)):r>1.25*Math.PI&&r<=1.75*Math.PI&&(i+=f/2,n+=p/2/Math.tan(e),s-=f/2,a-=p/2/Math.tan(e)),(o=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",g),o.setAttribute("gradientUnits","userSpaceOnUse"),o.setAttribute("x1",String(Math.round(n))),o.setAttribute("y1",String(Math.round(i))),o.setAttribute("x2",String(Math.round(a))),o.setAttribute("y2",String(Math.round(s)))),u.colorStops.forEach(function(t){var e=t.offset,r=t.color,n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",100*e+"%"),n.setAttribute("stop-color",r),o.appendChild(n)}),y.setAttribute("fill","url('#"+g+"')"),this._defs.appendChild(o)):c&&y.setAttribute("fill",c),this._element.appendChild(y)},I),D="canvas";function I(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}for(var A={},Q=0;Q<=40;Q++)A[Q]=Q;var H={type:D,width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:A[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}},G=function(){return(G=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function X(t){var e=G({},t);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map(function(t){return G(G({},t),{offset:Number(t.offset)})}),e}function U(t){var e=G({},t);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=G(G({},e.imageOptions),{hideBackgroundDots:Boolean(e.imageOptions.hideBackgroundDots),imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=G({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=X(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=G({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=X(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=G({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=X(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=G({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=X(e.backgroundOptions.gradient))),e}function Y(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}i((u=u.apply(t,a||[])).next())})}function $(r,n){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var W=r(192),Z=r.n(W),J=(K._clearContainer=function(t){t&&(t.innerHTML="")},K.prototype._getQRStylingElement=function(n){return void 0===n&&(n="png"),Y(this,void 0,void 0,function(){var e,r;return $(this,function(t){switch(t.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==n.toLowerCase()?[3,2]:(e=void 0,[4,this._svg&&this._svgDrawingPromise?(e=this._svg,this._svgDrawingPromise):(e=new z(this._options)).drawQR(this._qr)]);case 1:return t.sent(),[2,e];case 2:return r=void 0,[4,this._canvas&&this._canvasDrawingPromise?(r=this._canvas,this._canvasDrawingPromise):(r=new w(this._options)).drawQR(this._qr)];case 3:return t.sent(),[2,r]}})})},K.prototype.update=function(t){K._clearContainer(this._container),this._options=t?U(u(this._options,t)):this._options,this._options.data&&(this._qr=Z()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===D?(this._canvas=new w(this._options),this._canvasDrawingPromise=this._canvas.drawQR(this._qr),this._svgDrawingPromise=void 0,this._svg=void 0):(this._svg=new z(this._options),this._svgDrawingPromise=this._svg.drawQR(this._qr),this._canvasDrawingPromise=void 0,this._canvas=void 0),this.append(this._container))},K.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===D?this._canvas&&t.appendChild(this._canvas.getCanvas()):this._svg&&t.appendChild(this._svg.getElement()),this._container=t}},K.prototype.getRawData=function(o){return void 0===o&&(o="png"),Y(this,void 0,void 0,function(){var e,r,n;return $(this,function(t){switch(t.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getQRStylingElement(o)];case 1:return e=t.sent(),"svg"===o.toLowerCase()?(r=new XMLSerializer,n=r.serializeToString(e.getElement()),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+n],{type:"image/svg+xml"})]):[2,new Promise(function(t){return e.getCanvas().toBlob(t,"image/"+o,1)})]}})})},K.prototype.download=function(a){return Y(this,void 0,void 0,function(){var e,r,n,o,i;return $(this,function(t){switch(t.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",r="qr","string"==typeof a?(e=a,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==(void 0===a?"undefined":_typeof(a))&&null!==a&&(a.name&&(r=a.name),a.extension&&(e=a.extension)),[4,this._getQRStylingElement(e)];case 1:return n=t.sent(),"svg"===e.toLowerCase()?(o=new XMLSerializer,i='<?xml version="1.0" standalone="no"?>\r\n'+o.serializeToString(n.getElement()),c("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i),r+".svg")):c(n.getCanvas().toDataURL("image/"+e),r+"."+e),[2]}})})},K);function K(t){this._options=t?U(u(H,t)):H,this.update()}}},o={},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(796).default;function n(t){if(o[t])return o[t].exports;var e=o[t]={exports:{}};return r[t](e,e.exports,n),e.exports}var r,o});
