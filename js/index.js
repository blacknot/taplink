function getRandom(t){var n=t.length;return Math.floor(Math.random()*Math.floor(n))}function indexAutomationBlocksRebuild(t){var n=_.map(t.find("li.in"),function(t){return $mx(t).data("name")});t.closest(".row").find(".index-automate-canvas [data-block]").each(function(t){if(t=$mx(t),-1==n.indexOf(t.data("block"))){if(0<t.data("step"))return;t.data("step",1),setTimeout(function(){t.data("step",2),setTimeout(function(){t.data("step",3)},100)},50)}else{if(0==t.data("step"))return;t.data("step",2),setTimeout(function(){t.data("step",1),setTimeout(function(){t.data("step",0)},100)},50)}})}$mx.observe(".screen-sliders",function(t){var n,e=t.children(),a=(a=t.data("animation"))||"Up",i=0;e.length<=1||(n=function(){var t=$mx(e[i]);++i>e.length-1&&(i=0);var n=$mx(e[i]);e.removeClass("fadeIn"+a+" fadeOut"+a+" animated faster"),e.addClass("is-hidden"),t.removeClass("is-hidden").addClass("fadeOut"+a+" animated faster"),setTimeout(function(){n.removeClass("is-hidden").addClass("fadeIn"+a+" animated faster")},100)},setInterval(n,3e3),n())}),console.log("init index"),$mx.observe(".index-counter-more",function(e){var a=e.closest(".hero-block"),i=a.find("iframe").map(function(t){return $mx(t).data("profile")}),o=6;e.on("click",function(){function n(){var t=a.find(".examples-columns");t.children().css("transform","translate(-14.2857%, 0)"),setTimeout(function(){t.css("transition","none"),t.children().css("transform",null),t.children().eq(0).appendTo(t).find("iframe").attr("src","//taplink.cc/"+i[o]+"?static=1"),t.css("transition",null)},250)}var t;++o>=i.length?(t=e.data("page")+1,e.data("page",t),$mx.get(e.data("prefix")+"/examples/get.json?page="+t).then(function(t){i=i.concat(_.map(t.data,function(t){return t.nickname})),n()})):n()}).on("click",".index-container-welcome .btn-group-tariffs .button",function(t){var n=$mx(this).parent(),e=n.closest(".hero-block"),a=e.find(".device").removeClass("in").eq(n.index()).addClass("in").find("video");a.length&&(a[0].currentTime=0),e.find(".btn-group-gray .button").removeClass("active").eq(n.index()).addClass("active")})}),$mx.observe(".index-chatbot",function(t){console.log("init chatbot");t.data("names").split(","),t.data("pages").split(","),t.data("prices").split(","),t.data("labels").split(","),t.find(".index-chatbot-container")}),$mx.observe(".index-automation-blocks-list",function(n){n.find("li").click(function(t){$mx(this).toggleClass("in"),indexAutomationBlocksRebuild(n)}),indexAutomationBlocksRebuild(n)});
