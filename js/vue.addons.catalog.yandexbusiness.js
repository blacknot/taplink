window.$app.defineComponent("addons.catalog.yandexbusiness","vue-addons-catalog-yandexbusiness-index",{data:function(){return{isFetching:!0,promocode:null,metrika_activated:!0}},mounted:function(){var s=this;this.$api.post("addons/addon/yandexbusiness/get").then(function(i){"success"==i.result&&Object.assign(s,i.response),s.isFetchingData=!1}),$mx.lazy("https://geoadv-partner.yandex.ru/static/partner-script.js",function(){window.YaPartnerWidget.init({container:s.$refs.container,partnerName:"taplink",partnerSiteId:s.$account.profile_id,siteName:s.$account.link,products:["websubscription"]});setTimeout(function(){s.isFetching=!1},2e3)})},template:'<div style="background: var(--background-white-color)"> <div class="container container-yandex-business is-flex-fullheight"> <div v-if="promocode" class="message is-primary has-p-2 row row-small row-noborder is-marginless" style="border-radius: 0;border-bottom: 1px solid var(--border-grey-color);"> <div class="col-xs-12 col-sm has-text-centered-mobile" style="display: flex;flex-direction: column;justify-content: center;"> <h4><b>Дарим 3 000 ₽ на рекламу вашего сайта</b></h4> Чтобы получить подарок, используйте промокод при первой оплате рекламы<br> Промокод действителен при оплате кампаний от 10 000 ₽ </div> <div class="col-xs-12 col-sm col-sm-shrink has-xs-pt-2"> <div style="background: #fff;color: #000;padding: 1rem;border-radius: 10px;border-bottom: 1px solid var(--border-grey-color);"> <div class="has-text-grey">Промокод на скидку</div> <b>{{promocode}}</b> <vue-component-clipboard :text="promocode" class="has-ml-1" icon-pack="fa"/> </div> </div> </div> <div v-if="!metrika_activated" class="message is-warning has-p-2 is-marginless" style="border-radius: 0;border-bottom: 1px solid var(--border-grey-color);"> <div class="has-pl-1 has-pr-1">Для лучшей работы рекламы рекомендуем подключить модуль Яндекс.Метрики</div> </div> <div class="is-flex-fullheight" ref="container"></div> </div> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </div>'}),window.$app.defineComponent("addons.catalog.yandexbusiness","vue-addons-catalog-yandexbusiness-options",{data:function(){return{isInited:!1,isFetching:!1,confirmText:"ВАЖНО: Отключение модуля не приводит к отключению рекламы в Яндекс.Бизнесе. Отключить модуль сейчас?"}},props:["values","variants","addon_id","isInstalling","currentTab"],mixins:[FormModel],mounted:function(){this.values.is_installed&&this.init()},watch:{currentTab:function(){"options"!=this.currentTab||this.isInited||this.init()}},methods:{init:function(){var i=this;this.isFetching=this.isInited=!0,$mx.lazy("https://geoadv-partner.yandex.ru/static/partner-script.js",function(){window.YaPartnerWidget.init({container:i.$refs.container,partnerName:"test",partnerSiteId:i.$account.profile_id,siteName:i.$account.link,products:["websubscription"]});setTimeout(function(){i.isFetching=!1},2e3),i.values.is_installed||i.$parent.save(!1)})}},template:'<section class="modal-card-body modal-card-body-blocks"> <section class="is-paddingless" v-if="currentTab == \'description\'"> <div class="addon-yandexbusiness-welcome"> <div class="has-p-3" style="display: flex;flex-direction: column;justify-content: center"> <h2 class="has-mb-2">Что делает Яндекс.Бизнес?</h2> <div class="media"> <i class="fal fa-check has-mr-2"></i> <div class="media-content">Запускает рекламу сразу на нескольких площадках</div> </div> <div class="media"> <i class="fal fa-check has-mr-2"></i> <div class="media-content">Создаёт объявления и размещает там, где увидит максимум целевой аудитории клиента</div> </div> <div class="media"> <i class="fal fa-check has-mr-2"></i> <div class="media-content">Приводит клиентов на вашу страницу</div> </div> <div class="media"> <i class="fal fa-check has-mr-2"></i> <div class="media-content">Оптимизирует рекламные кампании</div> </div> </div> <div class="is-hidden-mobile"></div> </div> </section> <section class="is-paddingless" v-show="currentTab == \'options\'" style="position: relative;min-height: 100px"> <div ref=\'container\'></div> <b-loading :is-full-page="false" :active.sync="isFetching"></b-loading> </section> </section>'}),window.$app.defineModule("addons.catalog.yandexbusiness",[]);
